<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0b0f" />

  <title>SaverIoFlow — Premium Life Planner</title>
  <meta name="description" content="SaverIoFlow: premium planner for goals, daily plans, and meaningful progress." />

  <!-- Base styles -->
  <link rel="stylesheet" href="/theme.css" />
  <link rel="stylesheet" href="/components.css" />
  <link rel="stylesheet" href="/style.css" />

  <!-- Landing system -->
  <link rel="stylesheet" href="/landing-override.css" />
  <link rel="stylesheet" href="/hero-art.css" />
  <link rel="stylesheet" href="/motion.css" />
  <link rel="stylesheet" href="/cinema.css" />
</head>

<body class="landing cinema">
  <!-- Background layers -->
  <div class="cosmos" aria-hidden="true"></div>
  <div class="coverArt" aria-hidden="true"></div>
  <div class="coverTree" aria-hidden="true"></div>

  <!-- Top bar -->
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="/" aria-label="SaverIoFlow Home">
        <svg xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 520 120"
             class="brand__logo"
             role="img"
             aria-label="SaverIoFlow">
          <defs>
            <linearGradient id="sf-g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="currentColor" stop-opacity="0.95"/>
              <stop offset="1" stop-color="currentColor" stop-opacity="0.70"/>
            </linearGradient>
            <style>
              .sf-stroke{fill:none;stroke:url(#sf-g);stroke-width:3.2;stroke-linecap:round;stroke-linejoin:round}
              .sf-thin{fill:none;stroke:url(#sf-g);stroke-width:2;opacity:.75}
              .sf-fill{fill:url(#sf-g)}
              .sf-text{font-family:ui-sans-serif,system-ui;font-weight:650;letter-spacing:.18em}
              .sf-sub{font-weight:520;letter-spacing:.08em;opacity:.82}
            </style>
          </defs>

          <g transform="translate(24,18)">
            <ellipse class="sf-thin" cx="42" cy="42" rx="34" ry="34"/>
            <ellipse class="sf-thin" cx="42" cy="42" rx="34" ry="18"
                     transform="rotate(-22 42 42)" opacity=".55"/>
            <path class="sf-stroke"
                  d="M22 46c10-18 38-20 42-2 3 13-10 24-24 22-10-1-16-10-12-18 4-10 20-10 26-2"/>
            <circle class="sf-fill" cx="68" cy="24" r="2.8"/>
          </g>

          <g transform="translate(118,44)">
            <text class="sf-text" x="0" y="0" font-size="26" fill="currentColor">SAVERIOFLOW</text>
            <text class="sf-text sf-sub" x="2" y="28" font-size="12" fill="currentColor">PLANNER • REFLECTION • IMPACT</text>
          </g>
        </svg>
      </a>

      <!-- Language Switch -->
      <div class="langSwitch glass">
        <label class="langLabel" for="langSelectLanding" data-i18n="lang.label">Language</label>
        <select id="langSelectLanding" aria-label="Language">
          <option value="en" data-i18n="lang.en">English</option>
          <option value="de" data-i18n="lang.de">German</option>
          <option value="es" data-i18n="lang.es">Spanish</option>
          <option value="it" data-i18n="lang.it">Italian</option>
          <option value="ar" data-i18n="lang.ar">Arabic</option>
        </select>
      </div>

      <nav class="top-actions">
        <a class="btn btn-ghost glass" href="/app/" aria-label="Open app" data-i18n="nav.openApp">Open App</a>
        <a class="btn btn-primary" href="/app/" aria-label="Go premium" data-i18n="nav.goPremium">Go Premium</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <main class="hero">
    <section class="hero-grid">
      <div class="hero-copy">

        <div class="kicker glass" data-i18n="hero.kicker">Planner • Philosophy • Impact</div>

        <h1 class="hero-title">
          <span data-i18n="hero.title">Build your life plan.</span>
        </h1>

        <p class="hero-trackline">
          Track goals with streaks, milestones, and reviews — across A/B/C.
        </p>

        <p class="hero-subtitle" data-i18n="hero.subtitle">
          From goals to daily action — with philosophy, impact, and momentum.
        </p>

        <div class="hero-cta">
          <a class="btn btn-primary" href="/app/" data-i18n="cta.start">Start now</a>
          <a class="btn btn-ghost glass" href="#features" data-i18n="cta.learn">Learn more</a>
        </div>

        <!-- One Feature Grid (buttons open accordion) -->
        <div class="featureGrid">
          <button class="featureCard glass featureLink" type="button" data-open="today">
            <div class="featureTitle">Today</div>
            <div class="featureText">Top 3 + Plan B + Minimum Day.</div>
          </button>

          <button class="featureCard glass featureLink" type="button" data-open="week">
            <div class="featureTitle">Week</div>
            <div class="featureText">Weekly structure with buffer + priorities.</div>
          </button>

          <button class="featureCard glass featureLink" type="button" data-open="year">
            <div class="featureTitle">Year</div>
            <div class="featureText">Goals → quarters → measurable direction.</div>
          </button>

          <button class="featureCard glass featureLink" type="button" data-open="compass">
            <div class="featureTitle">Compass</div>
            <div class="featureText">Values + A/B/C categories.</div>
          </button>

          <button class="featureCard glass featureLink" type="button" data-open="review">
            <div class="featureTitle">Review</div>
            <div class="featureText">Reflection loops. Calm improvement.</div>
          </button>
        </div>

        <div class="hero-meta">
          <span class="pill glass" data-i18n="meta.offline">Offline-first PWA</span>
          <span class="pill glass" data-i18n="meta.impact">Impact dashboard</span>
          <span class="pill glass" data-i18n="meta.philo">Stoic & Socratic modes</span>
        </div>
      </div>

      <!-- Hero Gadget -->
      <aside class="hero-gadget glass" aria-label="Goal Tracker preview">
        <div class="gadget-head">
          <div>
            <div class="gadget-title">Goal Tracker</div>
            <div class="gadget-sub">Streaks • Milestones • Reviews</div>
          </div>

          <div class="ring" aria-hidden="true" style="--p:72">
            <div class="ring__value">72%</div>
            <div class="ring__label">Year</div>
          </div>
        </div>

        <div class="gadget-progress">
          <div class="progress-row">
            <span class="progress-name">Write book</span>
            <span class="progress-pct">62%</span>
          </div>
          <div class="progress-bar"><span style="width:62%"></span></div>

          <div class="progress-row">
            <span class="progress-name">Fitness</span>
            <span class="progress-pct">48%</span>
          </div>
          <div class="progress-bar"><span style="width:48%"></span></div>

          <div class="progress-row">
            <span class="progress-name">Plant trees</span>
            <span class="progress-pct">80%</span>
          </div>
          <div class="progress-bar"><span style="width:80%"></span></div>
        </div>

        <div class="gadget-cta">
          <a class="btn btn-ghost glass" href="/app/" aria-label="Open Today view">Open Today</a>
          <a class="btn btn-primary" href="#features" aria-label="See how it works">How it works</a>
        </div>
      </aside>
    </section>

    <div class="neon-divider" aria-hidden="true"></div>

    <!-- ✅ ONLY ONE Features section -->
    <section class="features" id="features">
      <h2 class="section-title" data-i18n="features.title">How SaverIoFlow works</h2>
      <p class="section-subtitle" data-i18n="features.subtitle">
        Plan, track, reflect — across A (You), B (Common Good), C (Earth & Animals).
      </p>

      <div class="accordion glass" id="featureAccordion">
        <details class="accItem" data-key="today" open>
          <summary class="accSummary">
            <span class="accTitle">Today — execute & track</span>
            <span class="accMeta">Top 3 • Plan B • Minimum Day</span>
          </summary>
          <div class="accBody">
            <ul>
              <li>Choose Top 3 tasks that move your goals.</li>
              <li>Plan B for low energy (still progress).</li>
              <li>Minimum Day keeps streak + identity.</li>
            </ul>
          </div>
        </details>

        <details class="accItem" data-key="week">
          <summary class="accSummary">
            <span class="accTitle">Week — realistic planning</span>
            <span class="accMeta">Structure • Buffer • Priorities</span>
          </summary>
          <div class="accBody">
            <ul>
              <li>Turn goals into weekly actions.</li>
              <li>Balance A/B/C for a meaningful week.</li>
              <li>Keep buffer for surprises.</li>
            </ul>
          </div>
        </details>

        <details class="accItem" data-key="year">
          <summary class="accSummary">
            <span class="accTitle">Year — measurable direction</span>
            <span class="accMeta">Quarters • Milestones • Reviews</span>
          </summary>
          <div class="accBody">
            <ul>
              <li>Define outcomes you can measure.</li>
              <li>Split into quarters + milestones.</li>
              <li>Review progress and adjust.</li>
            </ul>
          </div>
        </details>

        <details class="accItem" data-key="compass">
          <summary class="accSummary">
            <span class="accTitle">Compass — values & choices</span>
            <span class="accMeta">Socratic • Stoic • Eco • Peace</span>
          </summary>
          <div class="accBody">
            <ul>
              <li>Use philosophy modes as a lens.</li>
              <li>Prioritize with A/B/C categories.</li>
              <li>Choose the next step with clarity.</li>
            </ul>
          </div>
        </details>

        <details class="accItem" data-key="review">
          <summary class="accSummary">
            <span class="accTitle">Review — learn the loop</span>
            <span class="accMeta">Reflect • Improve • Repeat</span>
          </summary>
          <div class="accBody">
            <ul>
              <li>Weekly + yearly review rituals.</li>
              <li>Keep what works, drop what doesn’t.</li>
              <li>See progress over time.</li>
            </ul>
          </div>
        </details>
      </div>
    </section>

    <!-- Premium section -->
    <section class="cinema-strip" id="premium">
      <h2 class="section-title" data-i18n="premium.title">Premium that funds real impact</h2>
      <p class="section-subtitle" data-i18n="premium.subtitle">
        Transparent share to trees & animal protection. No greenwashing.
      </p>

      <div class="slider" id="featureSlider">
        <div class="slide glass">
          <div class="starsRow" aria-hidden="true">★★★★★</div>
          <h3 data-i18n="premium.s1.title">Plans that stick</h3>
          <p data-i18n="premium.s1.text">Daily / weekly / yearly structure with Plan B and Minimum Day.</p>
        </div>

        <div class="slide glass">
          <div class="starsRow" aria-hidden="true">★★★★★</div>
          <h3 data-i18n="premium.s2.title">Socratic clarity</h3>
          <p data-i18n="premium.s2.text">Guided questions to discover what you really want.</p>
        </div>

        <div class="slide glass">
          <div class="starsRow" aria-hidden="true">★★★★★</div>
          <h3 data-i18n="premium.s3.title">Impact dashboard</h3>
          <p data-i18n="premium.s3.text">See exactly what your contribution supports.</p>
        </div>
      </div>

      <div class="joinRow">
        <div class="joinPill glass">
          <span aria-hidden="true">★★★★☆</span>
          <span data-i18n="premium.join">Join 10,000+ builders</span>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <small>© <span id="yearNow"></span> SaverIoFlow</small>
      <a href="/app/" class="footer-link" data-i18n="footer.openApp">Open App</a>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="/motion.js"></script>
  <script src="/slider.js"></script>

  <script>
    const y = document.getElementById("yearNow");
    if (y) y.textContent = String(new Date().getFullYear());
  </script>

  <!-- i18n -->
  <script src="/i18n/en.js"></script>
  <script src="/i18n/de.js"></script>
  <script src="/i18n/es.js"></script>
  <script src="/i18n/it.js"></script>
  <script src="/i18n/ar.js"></script>
  <script src="/i18n/i18n.js"></script>

  <script>
    try { window.SIF_I18N && window.SIF_I18N.init(); } catch(e){ console.warn("i18n init failed:", e); }

    document.addEventListener("DOMContentLoaded", () => {
      // Language select wiring
      try {
        const sel = document.getElementById("langSelectLanding");
        if (sel && window.SIF_I18N) {
          sel.value = window.SIF_I18N.getCurrent();
          sel.addEventListener("change", (e) => window.SIF_I18N.set(e.target.value));
          window.addEventListener("sif:lang-changed", (ev) => {
            if (ev?.detail?.lang) sel.value = ev.detail.lang;
          });
        }
      } catch(e) {
        console.warn("langSelectLanding wiring failed:", e);
      }

      // Accordion control: open from hero feature buttons + keep one open
      const acc = document.getElementById("featureAccordion");
      const items = Array.from(acc?.querySelectorAll(".accItem") || []);
      const links = Array.from(document.querySelectorAll(".featureLink"));

      function openKey(key){
        const target = items.find(d => d.dataset.key === key);
        if (!target) return;
        items.forEach(d => { if (d !== target) d.removeAttribute("open"); });
        target.setAttribute("open", "");
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      links.forEach(btn => btn.addEventListener("click", () => openKey(btn.dataset.open)));

      items.forEach(d => {
        d.addEventListener("toggle", () => {
          if (!d.open) return;
          items.forEach(x => { if (x !== d) x.removeAttribute("open"); });
        });
      });
    });
  </script>
</body>
</html>
